---
const { level, rugged = true } = Astro.props;
const Tag = typeof level === 'string' ? 'nav' : 'div';
const rand = Math.random() * 10;
---

<style>
    .section {
        grid-area: 1 / 1 / -1 / -1;
        display: flex;
        flex-direction: column;
        padding: 32px;
        height: 100%;
        background: var(--bg);
    }

    nav.content {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .content:not(nav) {
        max-width: 40ch;
    }

    .trailing {
        font-size: .8em;
        text-wrap: balance;
    }

    .leading :global(.scribble) {
        position: absolute;
        top: 0;
        right: 0;
        z-index: -1;
        transform-origin: center;
        transform: translate(40%, -40%) rotate(calc(var(--rand) * -45deg));
    }
</style>

<div>
    <div class:list={['section', { rugged }]}>
        <div class="leading" style={{ '--rand': rand }}>
            <slot name="leading"/>
        </div>
        <Tag class="content" aria-label={ level }>
            <slot/>
        </Tag>
        <div class="trailing">
            <slot name="trailing"/>
        </div>
    </div>
</div>